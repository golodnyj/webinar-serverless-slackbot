# Шаг 3. Создадим связь со Slack

# Шаг 3.1 Создадим API Gateway

Перейдите в каталог и выберете сервис API Gateway.
Нажмите кнопку `Создать API-шлюз` с именем `for-slack-bot`. После опубликования API-шлюза в спецификации появится секция `servers` с адресом `url` — это поле не трогаем, оставляем, как было.

# Шаг 3.2 Создадим функцию Challenge

Перейдите в каталог и выберете сервис Cloud Functions. Нажмите кнопку `Создать функцию`.
Задайте имя `for-slack-bot-challenge`.
Выберете среду выполнения `python37`.

Поменяйте содержимое файла `index.py` в консоле на содержание этого же файла из текущего  каталога. Укажите точку входа `index.handler`. Увеличте таймаут до 5 секунд.

Обязательно укажите сервисный аккаунт, созданный на предыдущем этапе. Нажмите кнопку — `Создать версию`.
Запомните идентификатор вашей функции.

# Шаг 3.3 Обновление конфигурации API Gateway

Перейдите в каталог и выберете сервис API Gateway. Выберете `for-slack-bot` и начните его редактирование. Вставьте спецификацию из файла `for-slack-bot.yml`.


Обязательно замените `IDYOURFUNCTIONCHALLENGE` на id созданной функции и `IDYOURACCOUNT` на id вашего сервисного аккаунта, созданного ранее.

# Шаг 3.4 Проверка доступности

В панель управления вашим Slack workspace — https://api.slack.com/ выберете созданное вами приложение `ServerlessBotApp`. В секции `Event Subscriptions` вставьте адрес вашего API Gateway в поле `Request URL` дождитесь появления `Verified`.

## Видео

https://youtu.be/I8Y8Nk_3N_M


